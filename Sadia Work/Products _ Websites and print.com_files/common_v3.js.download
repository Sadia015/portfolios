var publicKey=document.currentScript.getAttribute("data-publicKey"),imageCDN=document.currentScript.getAttribute("data-image-cdn"),isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function shuffle(e){for(var t,a,i=e.length;0!==i;)a=Math.floor(Math.random()*i),t=e[--i],e[i]=e[a],e[a]=t;return e}function showAnswer(){$(this).toggleClass("expanded"),$(this).next().toggleClass("show-answer")}function doOnLoad(){checkAnimations(!0)}function unbindRebind(){$(window).unbind("scroll"),$(window).scroll(scrollCheck),$("a:not(.ignore-process)").unbind("click"),$("a:not(.ignore-process)").click(processLink),$("a.image-modal").unbind("click"),$("a.image-modal").click(enlargeImage),$("a.modal-close").unbind("click"),$("a.modal-close").click(modalClose),$(".tab-block h2").unbind("click"),$(".tab-block h2").click(showTabbedContent)}function scrollCheck(){checkAnimations(),checkStickyNav()}function checkStickyNav(){var e=$(".fe-header").outerHeight(),t=$(".sticky-nav").outerHeight();$(window).scrollTop()>=e+10?($(".sticky-nav").addClass("stuck"),$(".fe-top-bar").css("margin-bottom",t+"px")):($(".sticky-nav").removeClass("stuck"),$(".fe-top-bar").css("margin-bottom","0"))}$(document).ready(function(){checkAnimations(),$(window).scroll(scrollCheck),$('.faqs-wrap > ol[data-style$="show-hide"] .question').click(showAnswer),0<$(".testimonial-group").length&&populateTestimonials(publicKey),$("a:not(.ignore-process)").click(processLink),$("a.image-modal").click(enlargeImage),$(".fe-mobile-nav-open a, .fe-mobile-nav-close a").click(toggleMobileNav),$(".de-obfuscate").each(deObfuscate),$(".tab-block h2").click(showTabbedContent),$(".thumbnail-select > li").click(thumbnailSelect),$(".restricted-input").each(restrictedInput),$(".restricted-input").keyup(restrictedInput),$(".required-input").focusout(requiredInput),isSafari&&$("html").addClass("safari"),$("form.has-required-inputs").submit(checkFormHasNoRequirementsOutstanding)}),$(function(){window.onpageshow=function(e){e.persisted&&window.location.reload()}});var didScroll=!1;function checkAnimations(e=!1){didScroll&&!e||$("*[data-anim]").each(function(){var e=$(this).attr("id");e&&isScrolledIntoView(e)&&!$("#"+e).hasClass("animate")&&playAnimation(e)}),didScroll=!0}function playAnimation(e){var t=[];"true"==$("#"+e).attr("data-anim-sequential")&&$("#"+e).find(".anim-child").each(function(){t.push($(this).attr("id"))}),t.push(e),0<t.length&&addPlayClass(t)}function addPlayClass(t){Array.isArray(t)&&(t.length<1||setTimeout(function(){var e=t[0];e&&(t.splice(0,1),addPlayClass(t),"true"===$("#"+e).attr("data-anim-sequential")&&$("#"+e+" .anim-child.animate").length!==$("#"+e+" .anim-child").length||$("#"+e).addClass("animate"))},300))}function isScrolledIntoView(e){var t=$(window).scrollTop(),a=t+$(window).height(),e=$("#"+e).offset().top;return e+100<=a&&t<=e}function formatTimestamp(e,t){var a;return e?(e=new Date(e)).toLocaleString("en-GB",a="long"===t?{day:"numeric",month:"long",year:"numeric"}:a):"[ UNKOWN ]"}function populateTestimonials(e){var t={};t.url=location.hostname,t.publicKey=e,$.getJSON("https://api.vb.media/v1/public/get-testimonials/",t,function(e){var l=e.data.count,c=e.data.testimonials;$(".testimonial-group").each(function(){"true"==$(this).attr("data-shuffle")&&(c=shuffle(c));for(var e=$(this).closest("section").attr("id"),t=parseInt($(this).attr("data-qty")),a=parseInt($(this).attr("data-offset"))||0,i=l<t?l:t,s=$(this).clone(),n="",r=a;r<a+i;r++){var o=c[r];$(".item-details",s).attr("id",e+"-"+r),$(".testimonial",s).html(o.text||"[ empty ]"),$(".customer-name",s).html(o.name||"&nbsp;"),$(".customer-company",s).html(o.company||"&nbsp;"),n+=s.html()}$(this).html(n).closest("section").removeClass("loading").delay(300).queue(function(){checkAnimations(),$(this).dequeue()})})})}function enlargeImage(){var e=$(this).attr("href");return(e=e.replace("w:800","w:1200"))&&(showLoadingModal(),$("#modal").load(e,function(){closeLoadingModal(),modalOpen(e,"image")})),!1}function modalOpen(e=null,t=null){$("body").addClass("modal-is-active"),e&&"image"===t&&($("#modal").html('<div class="modal-image-wrap"><img src="'+e+'"><a class="modal-close"><svg class="${iconClass}" data-color="${iconColor}" viewBox="0 0 100 100"><path d="M56.772,49.998L98.599,8.172c1.867-1.867,1.867-4.902,0-6.769c-1.871-1.871-4.902-1.871-6.772,0L50,43.229 L8.173,1.403c-1.867-1.871-4.898-1.871-6.769,0c-1.871,1.866-1.871,4.901,0,6.769l41.827,41.826L1.404,91.829 c-1.871,1.866-1.871,4.901,0,6.769c0.931,0.935,2.158,1.404,3.384,1.404s2.453-0.47,3.384-1.404L50,56.771l41.827,41.827 c0.935,0.935,2.162,1.404,3.384,1.404c1.227,0,2.453-0.47,3.388-1.404c1.867-1.867,1.867-4.902,0-6.769L56.772,49.998z"/> </svg> </a></div>'),unbindRebind()),unbindRebind()}function modalClose(){$("#modal").html(""),$("body").removeClass("modal-is-active")}function showLoadingModal(){$("#modal-wrap").addClass("is-loading"),modalOpen()}function closeLoadingModal(){$("#modal-wrap").removeClass("is-loading"),modalClose()}function processLink(){var e=$(this).attr("href");e&&"http"!=e.slice(0,4)&&"#"!=e.slice(0,1)&&"mailto:"!=e.slice(0,7)&&"tel:"!=e.slice(0,4)&&showLoadingModal()}function toggleMobileNav(){return console.log("toggle"),$(".fe-mobile-nav").toggleClass("show-mobile-nav"),!1}function toggleSubNav(){return $(this).toggleClass("expanded"),!1}function deObfuscate(){var e=$(this).attr("data-obfuscation");0!==e.length&&(e=(e=(e=e.split(",")).reverse()).join("@"),$(this).attr("href","mailto:"+e).removeClass("de-obfuscate").removeAttr("data-obfuscation"),0<$(this).find(".de-obfuscate-child").length?$(this).find(".de-obfuscate-child").text(e).removeClass("de-obfuscate-child"):$(this).text(e))}function image(e,t){var a=e.altText||e.name||"image",i=imageCDN||"/auto_image",s="<picture>";if(t.setHeight)s+=`<source srcset="${i}/resize=h:${t.setHeight},f:max/${e.handle}" media="(min-width: 576px)">`,s+=`<source srcset="${i}/resize=w:600,f:max/${e.handle}" media="(min-width: 400px)">`,s+=`<img src="${i}/resize=h:${t.setHeight},f:max/${e.handle}" data-height="${t.setHeight}"  width="${e.width}" height="${e.height}" alt="${a}">`;else if("grid"==t.layoutType)t.startHeight?(s+=`<source srcset="${i}/resize=h:${t.startHeight},f:max/${e.handle}" media="(min-width: 992px)">`,s+=`<source srcset="${i}/resize=w:400,f:max/${e.handle}" media="(min-width: 768px)">`,s+=`<source srcset="${i}/resize=w:600,f:max/${e.handle}" media="(min-width: 400px)">`):t.startWidth&&(s+=`<source srcset="${i}/resize=w:${t.startWidth},f:max/${e.handle}" media="(min-width: 992px)">`,s+=`<source srcset="${i}/resize=h:${t.maxHeight},f:max/${e.handle}" media="(min-width: 576px)">`,s+=`<source srcset="${i}/resize=w:600,f:max/${e.handle}" media="(min-width: 400px)">`),s+=`<img src="${i}/resize=h:${t.maxHeight},f:max/${e.handle}" data-height="${t.maxHeight}"  width="${e.width}" height="${e.height}" alt="${a}">`;else{var n=600;switch(t.baseSize){case"xs":n=200;break;case"s":n=400;break;case"m":n=600;break;case"l":n=800;break;case"xl":n=1e3}"xl"==t.baseSize&&(s+=`<source srcset="${i}/resize=w:2500,f:max/${e.handle}" media="(min-width: 2500px)">`,s+=`<source srcset="${i}/resize=w:2000,f:max/${e.handle}" media="(min-width: 2000px)">`),"xl"!=t.baseSize&&"l"!=t.baseSize||(s+=`<source srcset="${i}/resize=w:1500,f:max/${e.handle}" media="(min-width: 1500px)">`,s+=`<source srcset="${i}/resize=w:1000,f:max/${e.handle}" media="(min-width: 1000px)">`),s+=`<source srcset="${i}/resize=w:800,f:max/${e.handle}" media="(min-width: 800px)">`,s+=`<source srcset="${i}/resize=w:600,f:max/${e.handle}" media="(min-width: 600px)">`,s+=`<source srcset="${i}/resize=w:400,f:max/${e.handle}" media="(min-width: 400px)">`,s+=`<img src="${i}/resize=w:${n},f:max/${e.handle}" width="${e.width}" height="${e.height}" alt="${a}" data-height="${t.maxHeight}">`}return s+="</picture>"}function thumbnailSelect(){$(this).parent().attr("data-target"),$(this).attr("data-image-handle"),$(this).attr("data-image-alt"),$(this).attr("data-image-description")}function showTabbedContent(){var e=$(this).closest(".tab-block").attr("id"),t=$(this).parent().attr("data-target");$("#"+e+" .selected").removeClass("selected"),$(this).parent().addClass("selected"),$("#"+e+" .tab-block-content ."+t).addClass("selected")}function restrictedInput(){var e=$(this).val().length,t=$(this).attr("maxlength");charsRemaining=t-e,($(this).parent().hasClass("form-item-leading-text-wrap")?$(this).parent():$(this)).parent().siblings(".form-item-sub-content").find(".remaining-count").text(charsRemaining)}function requiredInput(){var e=$(this).val(),t=$(this).attr("id");$(this).parents("form").attr("id");checkRequirements(e,$(this).attr("data-restrictions"),t)?($(this).removeClass("required").addClass("required-complete"),$(this).siblings("label").removeClass("required"),$(this).parent().siblings(".form-item-sub-content").children(".form-item-restrictions").slideUp()):($(this).addClass("required").removeClass("required-complete"),$(this).siblings("label").addClass("required"),$(this).parent().siblings(".form-item-sub-content").children(".form-item-restrictions").slideDown())}function checkRequirements(e,t,a){var i;if(isNaN(parseInt(t)))switch(t){case"true":i=0<e.length;break;case"email":i=validateEmail(e);break;case"password":i=validatePassword(e);break;case"must-match":i=validateMatch(a)}else i=e.length>=t;return i}function checkFormHasNoRequirementsOutstanding(){var e=$(this).attr("id"),t=!1;if($(`form#${e} input.required-input, form#${e} textarea.required-input`).each(function(){$(this).trigger("focusout"),$(this).hasClass("required")&&(t=!0)}),t=$("form#"+e).hasClass("has-captcha")&&$(".h-captcha iframe").attr("data-hcaptcha-response").length<10?!0:t)return!1}function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function validatePassword(e){return/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[~@#$%^&*+=`|{}:;!.?\"()\[\]-])[\w~@#$%^&*+=`|{}:;!.?\"()\[\]-]{8,}$/.test(e)}function validateMatch(e){var t=$("#"+e).val(),e=$("#"+e).parents(".form-item").attr("data-to-match"),e=$("#"+e).val();return console.log("match?:"+t==e),t&&t==e}function buttonFeedback(e,t=!1){var a="string"!=typeof e?(e="id-"+Date.now(),$(this).parent().attr("id",e),".button-item#"+e):t?' .button-item.button-feedback button[form="'+e+'"]':"#"+e+" .button-item.button-feedback";$(a).addClass("disabled button-feedback-processing").attr("disabled","disabled"),$(a+" .button-inner").append(processingHTML).delay(200).queue(function(){$(a+" .processing-dots").addClass("working"),$(this).dequeue()})}function formatCurrency(e=0,t,a="en-gb",i=!0){if(isNaN(e))return"[TBA]";e=parseFloat(e);var s="";return t&&"GBP"!==t?"USD"===t||"NZD"===t||"AUD"===t?(s+=i?"&dollar;":"",s+=e.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")):"EUR"===t&&(["en-ie"].includes(a)?(s+=i?"&euro; ":"",s+=e.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")):["nl-nl"].includes(a)?(s+=i?"&euro; ":"",s+=e.toFixed(2).replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")):(s+=e.toFixed(2).replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1."),s+=i?"&euro; ":"")):(s+=i?"&pound;":"",s+=e.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),s}setInterval(function(){didScroll=didScroll&&!1},250);var processingHTML='<ul class="processing-dots"><li></li><li></li><li></li></ul>';function titleCase(e){e=e.toLowerCase().split(" ");for(var t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(" ")}
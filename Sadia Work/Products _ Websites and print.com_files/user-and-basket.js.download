import Cookies from"../js.cookie.min.js";var basketOrderId=Cookies.get("basketOrderId"),basketItemCount=Cookies.get("basketItemCount")||0,basketValue=Cookies.get("basketValue")||0,token=Cookies.get("token");function basketOverview(){var e,t=Cookies.get("basket")?JSON.parse(Cookies.get("basket")):{orderId:basketOrderId,itemCount:basketItemCount,value:basketValue},a=t.itemCount,o=t.value,s=$(".user-option-basket .basket-value").attr("data-currency"),r=$(".user-option-basket .basket-value").attr("data-locale");0!=o?(o=o&&o.includes(",")?o.replace(/,/g,""):o,e=$(".basket-details .basket-name .basket-overview").clone(),t="item",t+=1!=a?"s":"",$(".basket-qty",e).text(a+" "+t),$(".basket-value",e).html(formatCurrency(o,s,r,!1)),$(".basket-details .basket-name .basket-overview").html(e.html()),$(".basket-icon .basket-overview").html(a)):basketOverviewEmpty()}function basketOverviewEmpty(){$(".basket-details .basket-name .basket-overview").text("empty"),$(".basket-icon .basket-overview").remove()}function checkUser(){var e;token?(e=parseJwt(token),$(".not-logged-in").remove(),$(".fe-header .token-user-name").text(e.name)):$(".is-logged-in").remove(),$(".user-option").removeClass("hidden")}function parseJwt(e){e=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),e=decodeURIComponent(window.atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)}$(document).ready(function(){basketOverview(),checkUser()}),window.basketOverview=basketOverview;